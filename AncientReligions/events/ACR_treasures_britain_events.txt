# Audax Validator "!" Ignore_NEXT
#########################################
# Ancient Religions Reborn										
# - Thirteen Treasures of Britain events  
# 
# Event IDs ancrel.1261 - 1318
#########################################
namespace = ancrel

# Starting Event
character_event = {
	id = ancrel.1261
	title = EVTNAMEancrel.1261
	desc = EVTDESCancrel.1261
	picture = GFX_evt_library
	
	capable_only = yes
	prisoner = no
	min_age = 16
	
	trigger = {
		OR = {
			religion = celtic_pagan
			religion = celtic_pagan_reformed
		}
		has_ambition = obj_find_thirteen_treasures
		NOT = { has_character_flag = treasures_britain_quest_started }
		NOT = { has_character_flag = abandoned_thirteen_treasure_quest }
	}
	
	mean_time_to_happen = {
		months = 6
		modifier = {
			factor = 0.7
			trait = ambitious
		}
		modifier = {
			factor = 0.7
			trait = diligent
		}
		modifier = {
			factor = 0.7
			trait = scholar
		}
		modifier = {
			factor = 0.7
			trait = quick
		}
		modifier = {
			factor = 0.7
			trait = genius
		}
		modifier = {
			factor = 0.7
			trait = zealous
		}
		modifier = {
			factor = 1.6
			trait = slothful
		}
		modifier = {
			factor = 1.6
			trait = content
		}
		modifier = {
			factor = 1.6
			trait = humble
		}
		modifier = {
			factor = 0.7
			learning = 20
		}
		modifier = {
			factor = 0.7
			learning = 25
		}
		modifier = {
			factor = 2.0
			NOT = { learning = 15 }
		}
	}

	immediate = {
		set_character_flag = treasures_britain_quest_started
	}
	
	option = {
		name = EVTOPTAancrel.1261
		character_event = { id = ancrel.1262 days = 1 }
		piety = 10
	}
	
	option = {
		name = EVTOPTBancrel.1261
		trigger = {
			trait = zealous
		}
		cancel_ambition = yes
		set_character_flag = abandoned_thirteen_treasure_quest
		piety = -25
		remove_trait = zealous
	}
	
	option = {
		name = EVTOPTBancrel.1261
		trigger = {
			NOT = { trait = zealous }
		}
		cancel_ambition = yes
		set_character_flag = abandoned_thirteen_treasure_quest
		piety = -25
		add_trait = cynical
	}
}

### Initial setup
# Bards and Druids research thirteen treasures
character_event = {
	id = ancrel.1262
	title = EVTNAMEancrel.1262
	desc = EVTDESCancrel.1262
	picture = GFX_evt_priests_in_forest
	
	is_triggered_only = yes
		
	option = {
		name = EVTOPTAancrel.1262
		character_event = { id = ancrel.1263 days = 60 random = 20 }
		piety = 15
	}
}

# Bards and druids return with choices
character_event = {
	id = ancrel.1263
	title = EVTNAMEancrel.1263
	desc = EVTDESCancrel.1263
	picture = GFX_evt_druid_room
	
	is_triggered_only = yes
	
	trigger = {
		has_ambition = obj_find_thirteen_treasures
	}
	
	mean_time_to_happen = {
		days = 60
		modifier = {
			factor = 0.7
			trait = diligent
		}
		modifier = {
			factor = 0.7
			trait = scholar
		}
		modifier = {
			factor = 0.7
			trait = quick
		}
		modifier = {
			factor = 0.7
			trait = genius
		}
		modifier = {
			factor = 0.7
			trait = zealous
		}
		modifier = {
			factor = 1.6
			trait = slothful
		}
		modifier = {
			factor = 1.6
			trait = content
		}
		modifier = {
			factor = 0.7
			learning = 20
		}
		modifier = {
			factor = 0.7
			learning = 25
		}
		modifier = {
			factor = 2.0
			NOT = { learning = 15 }
		}
	}
	
	immediate = {
		set_character_flag = finished_researching_treasures_britain
	}
	
	option = {
		name = EVTOPTAancrel.1263
		character_event = { id = ancrel.1264 days = 1 }
	}
}
# Send out knights on quest
character_event = {
	id = ancrel.1264
	title = EVTNAMEancrel.1264
	desc = EVTDESCancrel.1264
	picture = GFX_evt_warrior_banners
	
	is_triggered_only = yes
	
	trigger = {
		has_ambition = obj_find_thirteen_treasures
	}
		
	option = {
		name = EVTOPTAancrel.1264
		set_character_flag = searching_for_the_treasures_britain_britain_fast
		set_character_flag = searching_for_the_treasures_britain_britain
		piety = 40
		wealth = -150
	}
	
	option = {
		name = EVTOPTBancrel.1264
		set_character_flag = searching_for_the_treasures_britain_britain
		piety = 10
		wealth = -35
	}
}

### Knights Quest for treasure
# Knight dies
character_event = {
	id = ancrel.1265
	title = EVTNAMEancrel.1265
	desc = EVTDESCancrel.1265
	picture = GFX_evt_emissary
	
	only_rulers = yes
	capable_only = yes
	prisoner = no
	min_age = 16


	trigger = {
		has_ambition = obj_find_thirteen_treasures
		had_character_flag = { flag = searching_for_the_treasures_britain days = 60 }
		NOT = { has_character_flag = abandoned_thirteen_treasure_quest }
		NOT = { has_character_flag = found_treasure_britain }
	}
	
	mean_time_to_happen = {
		months = 30
		modifier = {
			factor = 0.5
			has_character_flag = searching_for_the_treasures_britain_fast
		}
		modifier = {
			factor = 1.1
			trait = ambitious
		}
		modifier = {
			factor = 1.15
			trait = diligent
		}
		modifier = {
			factor = 1.2
			trait = scholar
		}
		modifier = {
			factor = 1.2
			trait = genius
		}
		modifier = {
			factor = 1.1
			trait = zealous
		}
		modifier = {
			factor = 0.8
			trait = druid
		}
		modifier = {
			factor = 0.5
			trait = slothful
		}
		modifier = {
			factor = 0.4
			trait = content
		}
		modifier = {
			factor = 0.6
			trait = humble
		}
		modifier = {
			factor = 1.25
			learning = 20
		}
		modifier = {
			factor = 1.25
			learning = 25
		}
		modifier = {
			factor = 0.5
			NOT = { learning = 15 }
		}
		modifier = {
			factor = 0.5
			NOT = { prestige = 200 }
		}
		modifier = {
			factor = 1.1
			prestige = 500
		}
		modifier = {
			factor = 0.5
			NOT = { piety = 200 }
		}
		modifier = {
			factor = 1.1
			piety = 500
		}
		modifier = {
			factor = 1.1
			piety = 750
		}
		modifier = {
			factor = 1.1
			piety = 1000
		}
	}

	option = {
		name = EVTOPTAancrel.1265
		prestige = -100
		wealth = -50
	}
		
	option = {
		name = EVTOPTBancrel.1265
		trigger = {
			trait = zealous
		}
		cancel_ambition = yes
		clr_character_flag = searching_for_the_treasures_britain
		set_character_flag = abandoned_thirteen_treasure_quest
		prestige = -100
		piety = -50
		wealth = -50
		remove_trait = zealous
	}
	
	option = {
		name = EVTOPTBancrel.1265
		trigger = {
			NOT = { trait = zealous }
		}
		cancel_ambition = yes
		clr_character_flag = searching_for_the_treasures_britain
		set_character_flag = abandoned_thirteen_treasure_quest
		prestige = -100
		piety = -50
		wealth = -50
		add_trait = cynical
	}
}

# Knight is captured
character_event = {
	id = ancrel.1265
	title = EVTNAMEancrel.1265
	desc = EVTDESCancrel.1265
	picture = GFX_evt_emissary
	
	only_rulers = yes
	capable_only = yes
	prisoner = no


	trigger = {
		has_ambition = obj_find_thirteen_treasures
		had_character_flag = { flag = searching_for_the_treasures_britain days = 60 }
		NOT = { has_character_flag = abandoned_thirteen_treasure_quest }
		NOT = { has_character_flag = found_treasure_britain }
	}
	
	mean_time_to_happen = {
		months = 30
		modifier = {
			factor = 0.5
			has_character_flag = searching_for_the_treasures_britain_fast
		}
		modifier = {
			factor = 1.1
			trait = ambitious
		}
		modifier = {
			factor = 1.15
			trait = diligent
		}
		modifier = {
			factor = 1.2
			trait = scholar
		}
		modifier = {
			factor = 1.2
			trait = genius
		}
		modifier = {
			factor = 1.1
			trait = zealous
		}
		modifier = {
			factor = 0.8
			trait = druid
		}
		modifier = {
			factor = 0.5
			trait = slothful
		}
		modifier = {
			factor = 0.4
			trait = content
		}
		modifier = {
			factor = 0.6
			trait = humble
		}
		modifier = {
			factor = 1.25
			learning = 20
		}
		modifier = {
			factor = 1.25
			learning = 25
		}
		modifier = {
			factor = 0.5
			NOT = { learning = 15 }
		}
		modifier = {
			factor = 0.5
			NOT = { prestige = 200 }
		}
		modifier = {
			factor = 1.1
			prestige = 500
		}
		modifier = {
			factor = 0.5
			NOT = { piety = 200 }
		}
		modifier = {
			factor = 1.1
			piety = 500
		}
		modifier = {
			factor = 1.1
			piety = 750
		}
		modifier = {
			factor = 1.1
			piety = 1000
		}
	}

	option = {
		name = EVTOPTAancrel.1265
		prestige = -100
		wealth = -25
	}
		
	option = {
		name = EVTOPTBancrel.1265
		trigger = {
			trait = zealous
		}
		cancel_ambition = yes
		clr_character_flag = searching_for_the_treasures_britain
		set_character_flag = abandoned_thirteen_treasure_quest
		prestige = -100
		piety = -50
		wealth = -25
		remove_trait = zealous
	}
	
	option = {
		name = EVTOPTBancrel.1265
		trigger = {
			NOT = { trait = zealous }
		}
		cancel_ambition = yes
		clr_character_flag = searching_for_the_treasures_britain
		set_character_flag = abandoned_thirteen_treasure_quest
		prestige = -100
		piety = -50
		wealth = -25
		add_trait = cynical
	}
}

# Knight returns hopeless
character_event = {
	id = ancrel.1266
	title = EVTNAMEancrel.1266
	desc = EVTDESCancrel.1266
	picture = GFX_evt_forest_warrior_alone # emissary kneels
	
	only_rulers = yes
	capable_only = yes
	prisoner = no

	trigger = {
		has_ambition = obj_find_thirteen_treasures
		had_character_flag = { flag = searching_for_the_treasures_britain days = 60 }
		NOT = { has_character_flag = abandoned_thirteen_treasure_quest }
		NOT = { has_character_flag = found_treasure_britain }
	}
	
	mean_time_to_happen = {
		months = 30
		modifier = {
			factor = 0.5
			has_character_flag = searching_for_the_treasures_britain_fast
		}
		modifier = {
			factor = 1.1
			trait = ambitious
		}
		modifier = {
			factor = 1.15
			trait = diligent
		}
		modifier = {
			factor = 1.2
			trait = scholar
		}
		modifier = {
			factor = 1.2
			trait = genius
		}
		modifier = {
			factor = 1.1
			trait = zealous
		}
		modifier = {
			factor = 0.8
			trait = druid
		}
		modifier = {
			factor = 0.5
			trait = slothful
		}
		modifier = {
			factor = 0.4
			trait = content
		}
		modifier = {
			factor = 0.6
			trait = humble
		}
		modifier = {
			factor = 1.25
			learning = 20
		}
		modifier = {
			factor = 1.25
			learning = 25
		}
		modifier = {
			factor = 0.5
			NOT = { learning = 15 }
		}
		modifier = {
			factor = 0.5
			NOT = { prestige = 200 }
		}
		modifier = {
			factor = 1.1
			prestige = 500
		}
		modifier = {
			factor = 0.5
			NOT = { piety = 200 }
		}
		modifier = {
			factor = 1.1
			piety = 500
		}
		modifier = {
			factor = 1.1
			piety = 750
		}
		modifier = {
			factor = 1.1
			piety = 1000
		}
	}

	option = {
		name = EVTOPTAancrel.1266
		prestige = -50
		wealth = -15
	}
		
	option = {
		name = EVTOPTBancrel.1266
		trigger = {
			trait = zealous
		}
		cancel_ambition = yes
		clr_character_flag = searching_for_the_treasures_britain
		set_character_flag = abandoned_thirteen_treasure_quest
		prestige = -50
		piety = -50
		wealth = -15
		remove_trait = zealous
	}
	
	option = {
		name = EVTOPTBancrel.1266
		trigger = {
			NOT = { trait = zealous }
		}
		cancel_ambition = yes
		clr_character_flag = searching_for_the_treasures_britain
		set_character_flag = abandoned_thirteen_treasure_quest
		prestige = -50
		piety = -50
		wealth = -15
		add_trait = cynical
	}
}

# Knight joins ennemy
character_event = {
	id = ancrel.1267
	title = EVTNAMEancrel.1267
	desc = EVTDESCancrel.1267
	picture = GFX_evt_emissary
	
	only_rulers = yes
	capable_only = yes
	prisoner = no
	min_age = 16


	trigger = {
		has_ambition = obj_find_thirteen_treasures
		had_character_flag = { flag = searching_for_the_treasures_britain days = 60 }
		NOT = { has_character_flag = abandoned_thirteen_treasure_quest }
		NOT = { has_character_flag = found_treasure_britain }
	}
	
	mean_time_to_happen = {
		months = 30
		modifier = {
			factor = 0.5
			has_character_flag = searching_for_the_treasures_britain_fast
		}
		modifier = {
			factor = 1.1
			trait = ambitious
		}
		modifier = {
			factor = 1.15
			trait = diligent
		}
		modifier = {
			factor = 1.2
			trait = scholar
		}
		modifier = {
			factor = 1.2
			trait = genius
		}
		modifier = {
			factor = 1.1
			trait = zealous
		}
		modifier = {
			factor = 0.8
			trait = druid
		}
		modifier = {
			factor = 0.5
			trait = slothful
		}
		modifier = {
			factor = 0.4
			trait = content
		}
		modifier = {
			factor = 0.6
			trait = humble
		}
		modifier = {
			factor = 1.25
			learning = 20
		}
		modifier = {
			factor = 1.25
			learning = 25
		}
		modifier = {
			factor = 0.5
			NOT = { learning = 15 }
		}
		modifier = {
			factor = 0.5
			NOT = { prestige = 200 }
		}
		modifier = {
			factor = 1.1
			prestige = 500
		}
		modifier = {
			factor = 0.5
			NOT = { piety = 200 }
		}
		modifier = {
			factor = 1.1
			piety = 500
		}
		modifier = {
			factor = 1.1
			piety = 750
		}
		modifier = {
			factor = 1.1
			piety = 1000
		}
	}

	option = {
		name = EVTOPTAancrel.1267
		prestige = -100
		wealth = -15
	}
		
	option = {
		name = EVTOPTBancrel.1267
		trigger = {
			trait = zealous
		}
		cancel_ambition = yes
		clr_character_flag = searching_for_the_treasures_britain
		set_character_flag = abandoned_thirteen_treasure_quest
		prestige = -100
		piety = -50
		wealth = -15
		remove_trait = zealous
	}
	
	option = {
		name = EVTOPTBancrel.1267
		trigger = {
			NOT = { trait = zealous }
		}
		cancel_ambition = yes
		clr_character_flag = searching_for_the_treasures_britain
		set_character_flag = abandoned_thirteen_treasure_quest
		prestige = -100
		piety = -50
		wealth = -15
		add_trait = cynical
	}
}

### Actual Treasure events
# Knight finds treasure
character_event = {
	id = ancrel.1268
	title = EVTNAMEancrel.1268
	desc = EVTDESCancrel.1268
	picture = GFX_evt_warrior_banners
	
	only_rulers = yes
	capable_only = yes
	prisoner = no
	min_age = 16


	trigger = {
		has_ambition = obj_find_thirteen_treasures
		had_character_flag = { flag = searching_for_the_treasures_britain days = 60 }
		NOT = { has_character_flag = abandoned_thirteen_treasure_quest }
		NOT = { has_character_flag = found_treasure_britain }
	}
	
	mean_time_to_happen = {
		months = 120
		modifier = {
			factor = 0.5
			has_character_flag = searching_for_the_treasures_britain_fast
		}
		modifier = {
			factor = 0.9
			trait = ambitious
		}
		modifier = {
			factor = 0.85
			trait = diligent
		}
		modifier = {
			factor = 0.8
			trait = scholar
		}
		modifier = {
			factor = 0.8
			trait = genius
		}
		modifier = {
			factor = 0.9
			trait = zealous
		}
		modifier = {
			factor = 1.2
			trait = druid
		}
		modifier = {
			factor = 2.0
			trait = slothful
		}
		modifier = {
			factor = 2.5
			trait = content
		}
		modifier = {
			factor = 1.5
			trait = humble
		}
		modifier = {
			factor = 0.75
			learning = 20
		}
		modifier = {
			factor = 0.75
			learning = 25
		}
		modifier = {
			factor = 2.0
			NOT = { learning = 15 }
		}
		modifier = {
			factor = 2.0
			NOT = { prestige = 200 }
		}
		modifier = {
			factor = 0.9
			prestige = 500
		}
		modifier = {
			factor = 2.0
			NOT = { piety = 200 }
		}
		modifier = {
			factor = 0.9
			piety = 500
		}
		modifier = {
			factor = 0.9
			piety = 750
		}
		modifier = {
			factor = 0.9
			piety = 1000
		}
	}

	option = {
		name = EVTOPTAancrel.1268
		prestige = 100
		wealth = -50
		clr_character_flag = searching_for_the_treasures_britain
		clr_character_flag = searching_for_the_treasures_britain_fast
		set_character_flag = found_treasure_britain
		custom_tooltip = {
			random_list = {
				34 = { narrative_event = { id = ancrel.1269 days = 10 }}
				33 = { narrative_event = { id = ancrel.1283 days = 10 }}
				33 = { narrative_event = { id = ancrel.1296 days = 10 }}
			}
		}
	}
}

# Challenge
narrative_event = { # A dark Cavern
	id = ancrel.1269
	title = EVTNAMEancrel.1269
	desc = EVTDESCancrel.1269
	picture = GFX_evt_forest_warrior_alone
	
	only_rulers = yes
	is_triggered_only = yes
	
	trigger = {
		has_ambition = obj_find_thirteen_treasures
		has_character_flag = challenge_stage_britain_treasures
		NOT = { has_character_flag = abandoned_thirteen_treasure_quest }
		NOT = { trait = incapable }
	}

	option = {
		name = EVTOPTAancrel.1269 # Right tunnel
		set_character_flag = challenge_stage_britain_treasures
		prestige = 25
		narrative_event = { id = ancrel.1270 days = 5 }
	}
	
	option = {
		name = "EVTOPTBancrel.1269" # Left Tunnel
		set_character_flag = challenge_stage_britain_treasures
		prestige = 25
		narrative_event = { id = ancrel.1277 days = 5 }
	}
}

# Cave; Right Tunnel; Bear!
narrative_event = {
	id = ancrel.1270
	title = EVTNAMEancrel.1270
	desc = EVTDESCancrel.1270
	picture = GFX_evt_black_bear
	
	only_rulers = yes
	is_triggered_only = yes
	
	trigger = {
		has_ambition = obj_find_thirteen_treasures
		has_character_flag = challenge_stage_britain_treasures
		NOT = { has_character_flag = abandoned_thirteen_treasure_quest }
		NOT = { trait = incapable }
	}

	option = { # Attack the Bear
		name = EVTOPTAancrel.1270
		if = {
			limit = {
				OR = {
					martial = 10
					trait = brave
				}
				NOT = { trait = craven }
			}
			random_list = {
				35 = { 
					change_martial = 1 
					if = {
						limit = { NOT = { trait = brave }}
						add_trait = brave
					}
					hidden_tooltip = { narrative_event = { id = ancrel.1271 } }
				}
				35 = {
					change_martial = 1 
					add_trait = wounded
					if = {
						limit = { NOT = { trait = brave }}
						add_trait = brave
					}
					hidden_tooltip = { narrative_event = { id = ancrel.1271 } }
				}
				15 = {
					change_martial = 1
					add_trait = maimed
					if = {
						limit = { NOT = { trait = brave }}
						add_trait = brave
					}
					hidden_tooltip = { narrative_event = { id = ancrel.1271 } }
				}
				15 = {
					death = {
						death_reason = death_accident
					}
				}
			}
		}
		if = {
			limit = {
				NOT = { trait = brave }
				NOT = { trait = craven }
				NOT = { martial = 10 }
			}
			random_list = {
				30 = {
					change_martial = 1 
					add_trait = brave
					hidden_tooltip = { narrative_event = { id = ancrel.1271 } }
				}
				30 = {
					change_martial = 1 
					add_trait = wounded
					add_trait = brave
					hidden_tooltip = { narrative_event = { id = ancrel.1271 } }
				}
				25 = {
					change_martial = 1
					add_trait = maimed
					add_trait = brave
					hidden_tooltip = { narrative_event = { id = ancrel.1271 } }
				}
				15 = {
					death = {
						death_reason = death_accident
					}
				}
			}
		}
		if = {
			limit = {
				trait = craven
			}
			random_list = {
				25 = {
					change_martial = 1 
					add_trait = brave
					hidden_tooltip = { narrative_event = { id = ancrel.1271 } }
				}
				30 = {
					change_martial = 1 
					add_trait = wounded
					add_trait = brave
					hidden_tooltip = { narrative_event = { id = ancrel.1271 } }
				}
				25 = {
					change_martial = 1
					add_trait = maimed
					add_trait = brave
					hidden_tooltip = { narrative_event = { id = ancrel.1271 } }
				}
				20 = {
					death = {
						death_reason = death_accident
					}
				}
			}
		}
		prestige = 100
	}
	
	option = { # Trap it
		name = EVTOPTBancrel.1270
		trigger = {
			NOT = {
				OR = {
					trait = slow
					trait = imbecile
					trait = inbred
				}
			}
		}
		if = {
			limit = {
				OR = {
					learning = 10
					trait = diligent
				}
				NOT = { trait = slothful }
			}
			random_list = {
				42 = { 
					change_learning = 1 
					if = {
						limit = { NOT = { trait = diligent }}
						add_trait = diligent
					}
					hidden_tooltip = { narrative_event = { id = ancrel.1274 } }
				}
				43 = {
					change_learning = 1 
					add_trait = wounded
					if = {
						limit = { NOT = { trait = diligent }}
						add_trait = diligent
					}
					hidden_tooltip = { narrative_event = { id = ancrel.1274 } }
				}
				10 = {
					change_learning = 1
					add_trait = maimed
					if = {
						limit = { NOT = { trait = diligent }}
						add_trait = diligent
					}
					hidden_tooltip = { narrative_event = { id = ancrel.1274 } }
				}
				5 = {
					death = {
						death_reason = death_accident
					}
				}
			}
		}
		if = {
			limit = {
				NOT = { trait = diligent }
				NOT = { trait = slothful }
				NOT = { learning = 10 }
			}
			random_list = {
				35 = {
					change_learning = 1 
					add_trait = diligent
					hidden_tooltip = { narrative_event = { id = ancrel.1274 } }
				}
				35 = {
					change_learning = 1 
					add_trait = wounded
					add_trait = diligent
					hidden_tooltip = { narrative_event = { id = ancrel.1274 } }
				}
				15 = {
					change_learning = 1
					add_trait = maimed
					add_trait = diligent
					hidden_tooltip = { narrative_event = { id = ancrel.1274 } }
				}
				15 = {
					death = {
						death_reason = death_accident
					}
				}
			}
		}
		if = {
			limit = {
				trait = slothful
			}
			random_list = {
				35 = {
					change_learning = 1 
					add_trait = diligent
					hidden_tooltip = { narrative_event = { id = ancrel.1274 } }
				}
				35 = {
					change_learning = 1 
					add_trait = wounded
					add_trait = diligent
					hidden_tooltip = { narrative_event = { id = ancrel.1274 } }
				}
				20 = {
					change_learning = 1
					add_trait = maimed
					add_trait = diligent
					hidden_tooltip = { narrative_event = { id = ancrel.1274 } }
				}
				10 = {
					death = {
						death_reason = death_accident
					}
				}
			}
		}
		prestige = 50
	}

	option = { # Run Away!
		name = EVTOPTCancrel.1270
		trigger = {
			trait = craven
		}
		ROOT = {
			cancel_ambition = yes
			clr_character_flag = searching_for_the_treasures_britain
			set_character_flag = abandoned_thirteen_treasure_quest
			prestige = -100
			piety = -50
		}
	}
}

# Cave; Left Tunnel;

# Failure

# Success
narrative_event = { # The Whetstone of Tudwal
	id = ancrel.1271
	title = EVTNAMEancrel.1271
	desc = EVTDESCancrel.1271
	picture = GFX_evt_treasures
	
	only_rulers = yes
	is_triggered_only = yes
	
	trigger = {
		age = 16
		OR = {
			religion = celtic_pagan
			religion = celtic_pagan_reformed
		}
		has_ambition = obj_find_thirteen_treasures
		has_character_flag = challenge_stage_britain_treasures
		NOT = { has_character_flag = abandoned_thirteen_treasure_quest }
		NOT = { trait = incapable }
	}
	
	option = {
		name = EVTOPTAancrel.1271
		set_character_flag = whetstone_of_tudwal
		clr_character_flag = challenge_stage_britain_treasures
		piety = 25
	}
}

### Closing Events
# Treasure is fake
character_event = {
	id = ancrel.1272
	title = EVTNAMEancrel.1272
	desc = EVTDESCancrel.1272
	picture = GFX_evt_library
	
	only_rulers = yes
	capable_only = yes
	prisoner = no
	min_age = 16


	trigger = {
		OR = {
			religion = celtic_pagan
			religion = celtic_pagan_reformed
		}
		has_ambition = obj_find_thirteen_treasures
		has_character_flag = whetstone_of_tudwal
		NOT = { has_character_flag = abandoned_thirteen_treasure_quest }
		NOT = { has_character_flag = found_treasure_britain }
	}
	
	mean_time_to_happen = {
		months = 1
		modifier = {
			factor = 1.1
			trait = ambitious
		}
		modifier = {
			factor = 1.15
			trait = diligent
		}
		modifier = {
			factor = 1.2
			trait = scholar
		}
		modifier = {
			factor = 1.2
			trait = genius
		}
		modifier = {
			factor = 1.1
			trait = zealous
		}
		modifier = {
			factor = 1.2
			trait = druid
		}
		modifier = {
			factor = 0.5
			trait = slothful
		}
		modifier = {
			factor = 0.4
			trait = content
		}
		modifier = {
			factor = 0.6
			trait = humble
		}
		modifier = {
			factor = 1.25
			learning = 20
		}
		modifier = {
			factor = 1.25
			learning = 25
		}
		modifier = {
			factor = 0.5
			NOT = { learning = 15 }
		}
		modifier = {
			factor = 0.5
			NOT = { prestige = 200 }
		}
		modifier = {
			factor = 1.1
			prestige = 500
		}
		modifier = {
			factor = 0.5
			NOT = { piety = 200 }
		}
		modifier = {
			factor = 1.1
			piety = 500
		}
		modifier = {
			factor = 1.1
			piety = 750
		}
		modifier = {
			factor = 1.1
			piety = 1000
		}
	}
		
	option = {
		name = EVTOPTAancrel.1272
		trigger = {
			trait = zealous
		}
		ROOT = {
			cancel_ambition = yes
			clr_character_flag = searching_for_the_treasures_britain
			set_character_flag = abandoned_thirteen_treasure_quest
			prestige = -100
			piety = -50
			remove_trait = zealous
		}
	}
	
	option = {
		name = EVTOPTAancrel.1272
		trigger = {
			NOT = { trait = zealous }
		}
		ROOT = {
			cancel_ambition = yes
			clr_character_flag = searching_for_the_treasures_britain
			set_character_flag = abandoned_thirteen_treasure_quest
			prestige = -100
			piety = -50
			add_trait = cynical
		}
	}
}

# Show treasure to the realm
narrative_event = {
	id = ancrel.1273
	title = EVTNAMEancrel.1273
	desc = EVTDESCancrel.1273
	picture = GFX_evt_royal_court
	
	only_rulers = yes
	capable_only = yes
	prisoner = no
	min_age = 16


	trigger = {
		OR = {
			religion = celtic_pagan
			religion = celtic_pagan_reformed
		}
		has_ambition = obj_find_thirteen_treasures
		has_character_flag = whetstone_of_tudwal
		NOT = { has_character_flag = abandoned_thirteen_treasure_quest }
		NOT = { has_character_flag = found_treasure_britain }
	}
	
	mean_time_to_happen = {
		months = 1
		modifier = {
			factor = 0.9
			trait = ambitious
		}
		modifier = {
			factor = 0.85
			trait = diligent
		}
		modifier = {
			factor = 0.8
			trait = scholar
		}
		modifier = {
			factor = 0.8
			trait = genius
		}
		modifier = {
			factor = 0.9
			trait = zealous
		}
		modifier = {
			factor = 1.2
			trait = druid
		}
		modifier = {
			factor = 2.0
			trait = slothful
		}
		modifier = {
			factor = 2.5
			trait = content
		}
		modifier = {
			factor = 1.5
			trait = humble
		}
		modifier = {
			factor = 0.75
			learning = 20
		}
		modifier = {
			factor = 0.75
			learning = 25
		}
		modifier = {
			factor = 2.0
			NOT = { learning = 15 }
		}
		modifier = {
			factor = 2.0
			NOT = { prestige = 200 }
		}
		modifier = {
			factor = 0.9
			prestige = 500
		}
		modifier = {
			factor = 2.0
			NOT = { piety = 200 }
		}
		modifier = {
			factor = 0.9
			piety = 500
		}
		modifier = {
			factor = 0.9
			piety = 750
		}
		modifier = {
			factor = 0.9
			piety = 1000
		}
	}

	option = {
		name = EVTOPTAancrel.1273
		prestige = 300
		piety = 150
		wealth = -50
		clr_character_flag = whetstone_of_tudwal
		add_trait = treasure_whetstone
	}
}

#Inform inherited sacred treasure
character_event = {   
	id = ancrel.1274
	desc = EVTDESCancrel.1274
	picture = GFX_evt_Pagan_dolmen
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTAancrel.1274
	}
}

### Succession Event ###
character_event = {
	id = ancrel.1275
	hide_window = yes

	is_triggered_only = yes 
	
	immediate = {
		if = {
			limit = { trait = treasure_cauldron }
			if = { 
				limit = { 
					is_ruler = yes
					current_heir = { dynasty = ROOT is_alive = yes  }
				}
				current_heir = { add_trait = treasure_cauldron }
				add_trait = dead_target
			}
			if = { 
				limit = { NOT = { trait = dead_target } is_patrician = yes }
				family_palace = {
					current_heir = { add_trait = treasure_cauldron }
				}	
				add_trait = dead_target	
			}
			if = { 
				limit = { NOT = { trait = dead_target } }
				random_child = {
					limit = { dynasty = ROOT is_alive = yes }
					add_trait = treasure_cauldron
					character_event = { id = ancrel.1274 }
					ROOT = { add_trait = dead_target }
				}	
			}	
			if = {
				limit = { NOT = { trait = dead_target } }
				random_sibling = {
					limit = { dynasty = ROOT is_alive = yes }
					add_trait = treasure_cauldron
					character_event = { id = ancrel.1274 }
					ROOT = { add_trait = dead_target }
				}	
			}	
			if = {
				limit = { NOT = { trait = dead_target } }
				random_dynasty_member = {
					limit = { is_alive = yes }
					add_trait = treasure_cauldron
					character_event = { id = ancrel.1274 }
					ROOT = { add_trait = dead_target }
				}
			}
			if = {
				limit = { NOT = { trait = dead_target } }
				random_child = {
					limit = { is_primary_heir = yes is_alive = yes }
					add_trait = treasure_cauldron
					character_event = { id = ancrel.1274 }
					ROOT = { add_trait = dead_target }
				}
			}
			if = {
				limit = { NOT = { trait = dead_target } }
				random_child = {
					limit = { is_alive = yes }
					add_trait = treasure_cauldron
					character_event = { id = ancrel.1274 }
					ROOT = { add_trait = dead_target }
				}
			}
			if = {
				limit = { 
					NOT = { trait = dead_target }
					spouse = { is_alive = yes }		
				}
				spouse = { add_trait = treasure_cauldron character_event = { id = ancrel.1274 } }
				add_trait = dead_target
			}
			if = {
				limit = { 
					NOT = { trait = dead_target }	
					liege = { NOT = { character = ROOT } }
				}
				liege = { add_trait = treasure_cauldron character_event = { id = ancrel.1274 } }
				add_trait = dead_target
			}
			if = {
				limit = { 
					NOT = { trait = dead_target }	
				}
				random_vassal = { add_trait = treasure_cauldron character_event = { id = ancrel.1274 } }
			}
			remove_trait = dead_target
		}
		if = {
			limit = { trait = treasure_chariot }
			if = { 
				limit = { 
					is_ruler = yes
					current_heir = { dynasty = ROOT is_alive = yes  }
				}
				current_heir = { add_trait = treasure_chariot }
				add_trait = dead_target
			}
			if = { 
				limit = { NOT = { trait = dead_target } is_patrician = yes }
				family_palace = {
					current_heir = { add_trait = treasure_chariot }
				}	
				add_trait = dead_target	
			}
			if = { 
				limit = { NOT = { trait = dead_target } }
				random_child = {
					limit = { dynasty = ROOT is_alive = yes }
					add_trait = treasure_chariot
					character_event = { id = ancrel.1274 }
					ROOT = { add_trait = dead_target }
				}	
			}	
			if = {
				limit = { NOT = { trait = dead_target } }
				random_sibling = {
					limit = { dynasty = ROOT is_alive = yes }
					add_trait = treasure_chariot
					character_event = { id = ancrel.1274 }
					ROOT = { add_trait = dead_target }
				}	
			}	
			if = {
				limit = { NOT = { trait = dead_target } }
				random_dynasty_member = {
					limit = { is_alive = yes }
					add_trait = treasure_chariot
					character_event = { id = ancrel.1274 }
					ROOT = { add_trait = dead_target }
				}
			}
			if = {
				limit = { NOT = { trait = dead_target } }
				random_child = {
					limit = { is_primary_heir = yes is_alive = yes }
					add_trait = treasure_chariot
					character_event = { id = ancrel.1274 }
					ROOT = { add_trait = dead_target }
				}
			}
			if = {
				limit = { NOT = { trait = dead_target } }
				random_child = {
					limit = { is_alive = yes }
					add_trait = treasure_chariot
					character_event = { id = ancrel.1274 }
					ROOT = { add_trait = dead_target }
				}
			}
			if = {
				limit = { 
					NOT = { trait = dead_target }
					spouse = { is_alive = yes }		
				}
				spouse = { add_trait = treasure_chariot character_event = { id = ancrel.1274 } }
				add_trait = dead_target
			}
			if = {
				limit = { 
					NOT = { trait = dead_target }	
					liege = { NOT = { character = ROOT } }
				}
				liege = { add_trait = treasure_chariot character_event = { id = ancrel.1274 } }
				add_trait = dead_target
			}
			if = {
				limit = { 
					NOT = { trait = dead_target }	
				}
				random_vassal = { add_trait = treasure_chariot character_event = { id = ancrel.1274 } }
			}
			remove_trait = dead_target
		}
		if = {
			limit = { trait = treasure_chessboard }
			if = { 
				limit = { 
					is_ruler = yes
					current_heir = { dynasty = ROOT is_alive = yes  }
				}
				current_heir = { add_trait = treasure_chessboard }
				add_trait = dead_target
			}
			if = { 
				limit = { NOT = { trait = dead_target } is_patrician = yes }
				family_palace = {
					current_heir = { add_trait = treasure_chessboard }
				}	
				add_trait = dead_target	
			}
			if = { 
				limit = { NOT = { trait = dead_target } }
				random_child = {
					limit = { dynasty = ROOT is_alive = yes }
					add_trait = treasure_chessboard
					character_event = { id = ancrel.1274 }
					ROOT = { add_trait = dead_target }
				}	
			}	
			if = {
				limit = { NOT = { trait = dead_target } }
				random_sibling = {
					limit = { dynasty = ROOT is_alive = yes }
					add_trait = treasure_chessboard
					character_event = { id = ancrel.1274 }
					ROOT = { add_trait = dead_target }
				}	
			}	
			if = {
				limit = { NOT = { trait = dead_target } }
				random_dynasty_member = {
					limit = { is_alive = yes }
					add_trait = treasure_chessboard
					character_event = { id = ancrel.1274 }
					ROOT = { add_trait = dead_target }
				}
			}
			if = {
				limit = { NOT = { trait = dead_target } }
				random_child = {
					limit = { is_primary_heir = yes is_alive = yes }
					add_trait = treasure_chessboard
					character_event = { id = ancrel.1274 }
					ROOT = { add_trait = dead_target }
				}
			}
			if = {
				limit = { NOT = { trait = dead_target } }
				random_child = {
					limit = { is_alive = yes }
					add_trait = treasure_chessboard
					character_event = { id = ancrel.1274 }
					ROOT = { add_trait = dead_target }
				}
			}
			if = {
				limit = { 
					NOT = { trait = dead_target }
					spouse = { is_alive = yes }		
				}
				spouse = { add_trait = treasure_chessboard character_event = { id = ancrel.1274 } }
				add_trait = dead_target
			}
			if = {
				limit = { 
					NOT = { trait = dead_target }	
					liege = { NOT = { character = ROOT } }
				}
				liege = { add_trait = treasure_chessboard character_event = { id = ancrel.1274 } }
				add_trait = dead_target
			}
			if = {
				limit = { 
					NOT = { trait = dead_target }	
				}
				random_vassal = { add_trait = treasure_chessboard character_event = { id = ancrel.1274 } }
			}
			remove_trait = dead_target
		}
		if = {
			limit = { trait = treasure_coat }
			if = { 
				limit = { 
					is_ruler = yes
					current_heir = { dynasty = ROOT is_alive = yes  }
				}
				current_heir = { add_trait = treasure_coat }
				add_trait = dead_target
			}
			if = { 
				limit = { NOT = { trait = dead_target } is_patrician = yes }
				family_palace = {
					current_heir = { add_trait = treasure_coat }
				}	
				add_trait = dead_target	
			}
			if = { 
				limit = { NOT = { trait = dead_target } }
				random_child = {
					limit = { dynasty = ROOT is_alive = yes }
					add_trait = treasure_coat
					character_event = { id = ancrel.1274 }
					ROOT = { add_trait = dead_target }
				}	
			}	
			if = {
				limit = { NOT = { trait = dead_target } }
				random_sibling = {
					limit = { dynasty = ROOT is_alive = yes }
					add_trait = treasure_coat
					character_event = { id = ancrel.1274 }
					ROOT = { add_trait = dead_target }
				}	
			}	
			if = {
				limit = { NOT = { trait = dead_target } }
				random_dynasty_member = {
					limit = { is_alive = yes }
					add_trait = treasure_coat
					character_event = { id = ancrel.1274 }
					ROOT = { add_trait = dead_target }
				}
			}
			if = {
				limit = { NOT = { trait = dead_target } }
				random_child = {
					limit = { is_primary_heir = yes is_alive = yes }
					add_trait = treasure_coat
					character_event = { id = ancrel.1274 }
					ROOT = { add_trait = dead_target }
				}
			}
			if = {
				limit = { NOT = { trait = dead_target } }
				random_child = {
					limit = { is_alive = yes }
					add_trait = treasure_coat
					character_event = { id = ancrel.1274 }
					ROOT = { add_trait = dead_target }
				}
			}
			if = {
				limit = { 
					NOT = { trait = dead_target }
					spouse = { is_alive = yes }		
				}
				spouse = { add_trait = treasure_coat character_event = { id = ancrel.1274 } }
				add_trait = dead_target
			}
			if = {
				limit = { 
					NOT = { trait = dead_target }	
					liege = { NOT = { character = ROOT } }
				}
				liege = { add_trait = treasure_coat character_event = { id = ancrel.1274 } }
				add_trait = dead_target
			}
			if = {
				limit = { 
					NOT = { trait = dead_target }	
				}
				random_vassal = { add_trait = treasure_coat character_event = { id = ancrel.1274 } }
			}
			remove_trait = dead_target
		}
		if = {
			limit = { trait = treasure_crock_and_dish }
			if = { 
				limit = { 
					is_ruler = yes
					current_heir = { dynasty = ROOT is_alive = yes  }
				}
				current_heir = { add_trait = treasure_crock_and_dish }
				add_trait = dead_target
			}
			if = { 
				limit = { NOT = { trait = dead_target } is_patrician = yes }
				family_palace = {
					current_heir = { add_trait = treasure_crock_and_dish }
				}	
				add_trait = dead_target	
			}
			if = { 
				limit = { NOT = { trait = dead_target } }
				random_child = {
					limit = { dynasty = ROOT is_alive = yes }
					add_trait = treasure_crock_and_dish
					character_event = { id = ancrel.1274 }
					ROOT = { add_trait = dead_target }
				}	
			}	
			if = {
				limit = { NOT = { trait = dead_target } }
				random_sibling = {
					limit = { dynasty = ROOT is_alive = yes }
					add_trait = treasure_crock_and_dish
					character_event = { id = ancrel.1274 }
					ROOT = { add_trait = dead_target }
				}	
			}	
			if = {
				limit = { NOT = { trait = dead_target } }
				random_dynasty_member = {
					limit = { is_alive = yes }
					add_trait = treasure_crock_and_dish
					character_event = { id = ancrel.1274 }
					ROOT = { add_trait = dead_target }
				}
			}
			if = {
				limit = { NOT = { trait = dead_target } }
				random_child = {
					limit = { is_primary_heir = yes is_alive = yes }
					add_trait = treasure_crock_and_dish
					character_event = { id = ancrel.1274 }
					ROOT = { add_trait = dead_target }
				}
			}
			if = {
				limit = { NOT = { trait = dead_target } }
				random_child = {
					limit = { is_alive = yes }
					add_trait = treasure_crock_and_dish
					character_event = { id = ancrel.1274 }
					ROOT = { add_trait = dead_target }
				}
			}
			if = {
				limit = { 
					NOT = { trait = dead_target }
					spouse = { is_alive = yes }		
				}
				spouse = { add_trait = treasure_crock_and_dish character_event = { id = ancrel.1274 } }
				add_trait = dead_target
			}
			if = {
				limit = { 
					NOT = { trait = dead_target }	
					liege = { NOT = { character = ROOT } }
				}
				liege = { add_trait = treasure_crock_and_dish character_event = { id = ancrel.1274 } }
				add_trait = dead_target
			}
			if = {
				limit = { 
					NOT = { trait = dead_target }	
				}
				random_vassal = { add_trait = treasure_crock_and_dish character_event = { id = ancrel.1274 } }
			}
			remove_trait = dead_target
		}
		if = {
			limit = { trait = treasure_dyrnwyn }
			if = { 
				limit = { 
					is_ruler = yes
					current_heir = { dynasty = ROOT is_alive = yes  }
				}
				current_heir = { add_trait = treasure_dyrnwyn }
				add_trait = dead_target
			}
			if = { 
				limit = { NOT = { trait = dead_target } is_patrician = yes }
				family_palace = {
					current_heir = { add_trait = treasure_dyrnwyn }
				}	
				add_trait = dead_target	
			}
			if = { 
				limit = { NOT = { trait = dead_target } }
				random_child = {
					limit = { dynasty = ROOT is_alive = yes }
					add_trait = treasure_dyrnwyn
					character_event = { id = ancrel.1274 }
					ROOT = { add_trait = dead_target }
				}	
			}	
			if = {
				limit = { NOT = { trait = dead_target } }
				random_sibling = {
					limit = { dynasty = ROOT is_alive = yes }
					add_trait = treasure_dyrnwyn
					character_event = { id = ancrel.1274 }
					ROOT = { add_trait = dead_target }
				}	
			}	
			if = {
				limit = { NOT = { trait = dead_target } }
				random_dynasty_member = {
					limit = { is_alive = yes }
					add_trait = treasure_dyrnwyn
					character_event = { id = ancrel.1274 }
					ROOT = { add_trait = dead_target }
				}
			}
			if = {
				limit = { NOT = { trait = dead_target } }
				random_child = {
					limit = { is_primary_heir = yes is_alive = yes }
					add_trait = treasure_dyrnwyn
					character_event = { id = ancrel.1274 }
					ROOT = { add_trait = dead_target }
				}
			}
			if = {
				limit = { NOT = { trait = dead_target } }
				random_child = {
					limit = { is_alive = yes }
					add_trait = treasure_dyrnwyn
					character_event = { id = ancrel.1274 }
					ROOT = { add_trait = dead_target }
				}
			}
			if = {
				limit = { 
					NOT = { trait = dead_target }
					spouse = { is_alive = yes }		
				}
				spouse = { add_trait = treasure_dyrnwyn character_event = { id = ancrel.1274 } }
				add_trait = dead_target
			}
			if = {
				limit = { 
					NOT = { trait = dead_target }	
					liege = { NOT = { character = ROOT } }
				}
				liege = { add_trait = treasure_dyrnwyn character_event = { id = ancrel.1274 } }
				add_trait = dead_target
			}
			if = {
				limit = { 
					NOT = { trait = dead_target }	
				}
				random_vassal = { add_trait = treasure_dyrnwyn character_event = { id = ancrel.1274 } }
			}
			remove_trait = dead_target
		}
		if = {
			limit = { trait = treasure_halter }
			if = { 
				limit = { 
					is_ruler = yes
					current_heir = { dynasty = ROOT is_alive = yes  }
				}
				current_heir = { add_trait = treasure_halter }
				add_trait = dead_target
			}
			if = { 
				limit = { NOT = { trait = dead_target } is_patrician = yes }
				family_palace = {
					current_heir = { add_trait = treasure_halter }
				}	
				add_trait = dead_target	
			}
			if = { 
				limit = { NOT = { trait = dead_target } }
				random_child = {
					limit = { dynasty = ROOT is_alive = yes }
					add_trait = treasure_halter
					character_event = { id = ancrel.1274 }
					ROOT = { add_trait = dead_target }
				}	
			}	
			if = {
				limit = { NOT = { trait = dead_target } }
				random_sibling = {
					limit = { dynasty = ROOT is_alive = yes }
					add_trait = treasure_halter
					character_event = { id = ancrel.1274 }
					ROOT = { add_trait = dead_target }
				}	
			}	
			if = {
				limit = { NOT = { trait = dead_target } }
				random_dynasty_member = {
					limit = { is_alive = yes }
					add_trait = treasure_halter
					character_event = { id = ancrel.1274 }
					ROOT = { add_trait = dead_target }
				}
			}
			if = {
				limit = { NOT = { trait = dead_target } }
				random_child = {
					limit = { is_primary_heir = yes is_alive = yes }
					add_trait = treasure_halter
					character_event = { id = ancrel.1274 }
					ROOT = { add_trait = dead_target }
				}
			}
			if = {
				limit = { NOT = { trait = dead_target } }
				random_child = {
					limit = { is_alive = yes }
					add_trait = treasure_halter
					character_event = { id = ancrel.1274 }
					ROOT = { add_trait = dead_target }
				}
			}
			if = {
				limit = { 
					NOT = { trait = dead_target }
					spouse = { is_alive = yes }		
				}
				spouse = { add_trait = treasure_halter character_event = { id = ancrel.1274 } }
				add_trait = dead_target
			}
			if = {
				limit = { 
					NOT = { trait = dead_target }	
					liege = { NOT = { character = ROOT } }
				}
				liege = { add_trait = treasure_halter character_event = { id = ancrel.1274 } }
				add_trait = dead_target
			}
			if = {
				limit = { 
					NOT = { trait = dead_target }	
				}
				random_vassal = { add_trait = treasure_halter character_event = { id = ancrel.1274 } }
			}
			remove_trait = dead_target
		}
		if = {
			limit = { trait = treasure_hamper }
			if = { 
				limit = { 
					is_ruler = yes
					current_heir = { dynasty = ROOT is_alive = yes  }
				}
				current_heir = { add_trait = treasure_hamper }
				add_trait = dead_target
			}
			if = { 
				limit = { NOT = { trait = dead_target } is_patrician = yes }
				family_palace = {
					current_heir = { add_trait = treasure_hamper }
				}	
				add_trait = dead_target	
			}
			if = { 
				limit = { NOT = { trait = dead_target } }
				random_child = {
					limit = { dynasty = ROOT is_alive = yes }
					add_trait = treasure_hamper
					character_event = { id = ancrel.1274 }
					ROOT = { add_trait = dead_target }
				}	
			}	
			if = {
				limit = { NOT = { trait = dead_target } }
				random_sibling = {
					limit = { dynasty = ROOT is_alive = yes }
					add_trait = treasure_hamper
					character_event = { id = ancrel.1274 }
					ROOT = { add_trait = dead_target }
				}	
			}	
			if = {
				limit = { NOT = { trait = dead_target } }
				random_dynasty_member = {
					limit = { is_alive = yes }
					add_trait = treasure_hamper
					character_event = { id = ancrel.1274 }
					ROOT = { add_trait = dead_target }
				}
			}
			if = {
				limit = { NOT = { trait = dead_target } }
				random_child = {
					limit = { is_primary_heir = yes is_alive = yes }
					add_trait = treasure_hamper
					character_event = { id = ancrel.1274 }
					ROOT = { add_trait = dead_target }
				}
			}
			if = {
				limit = { NOT = { trait = dead_target } }
				random_child = {
					limit = { is_alive = yes }
					add_trait = treasure_hamper
					character_event = { id = ancrel.1274 }
					ROOT = { add_trait = dead_target }
				}
			}
			if = {
				limit = { 
					NOT = { trait = dead_target }
					spouse = { is_alive = yes }		
				}
				spouse = { add_trait = treasure_hamper character_event = { id = ancrel.1274 } }
				add_trait = dead_target
			}
			if = {
				limit = { 
					NOT = { trait = dead_target }	
					liege = { NOT = { character = ROOT } }
				}
				liege = { add_trait = treasure_hamper character_event = { id = ancrel.1274 } }
				add_trait = dead_target
			}
			if = {
				limit = { 
					NOT = { trait = dead_target }	
				}
				random_vassal = { add_trait = treasure_hamper character_event = { id = ancrel.1274 } }
			}
			remove_trait = dead_target
		}
		if = {
			limit = { trait = treasure_horn }
			if = { 
				limit = { 
					is_ruler = yes
					current_heir = { dynasty = ROOT is_alive = yes  }
				}
				current_heir = { add_trait = treasure_horn }
				add_trait = dead_target
			}
			if = { 
				limit = { NOT = { trait = dead_target } is_patrician = yes }
				family_palace = {
					current_heir = { add_trait = treasure_horn }
				}	
				add_trait = dead_target	
			}
			if = { 
				limit = { NOT = { trait = dead_target } }
				random_child = {
					limit = { dynasty = ROOT is_alive = yes }
					add_trait = treasure_horn
					character_event = { id = ancrel.1274 }
					ROOT = { add_trait = dead_target }
				}	
			}	
			if = {
				limit = { NOT = { trait = dead_target } }
				random_sibling = {
					limit = { dynasty = ROOT is_alive = yes }
					add_trait = treasure_horn
					character_event = { id = ancrel.1274 }
					ROOT = { add_trait = dead_target }
				}	
			}	
			if = {
				limit = { NOT = { trait = dead_target } }
				random_dynasty_member = {
					limit = { is_alive = yes }
					add_trait = treasure_horn
					character_event = { id = ancrel.1274 }
					ROOT = { add_trait = dead_target }
				}
			}
			if = {
				limit = { NOT = { trait = dead_target } }
				random_child = {
					limit = { is_primary_heir = yes is_alive = yes }
					add_trait = treasure_horn
					character_event = { id = ancrel.1274 }
					ROOT = { add_trait = dead_target }
				}
			}
			if = {
				limit = { NOT = { trait = dead_target } }
				random_child = {
					limit = { is_alive = yes }
					add_trait = treasure_horn
					character_event = { id = ancrel.1274 }
					ROOT = { add_trait = dead_target }
				}
			}
			if = {
				limit = { 
					NOT = { trait = dead_target }
					spouse = { is_alive = yes }		
				}
				spouse = { add_trait = treasure_horn character_event = { id = ancrel.1274 } }
				add_trait = dead_target
			}
			if = {
				limit = { 
					NOT = { trait = dead_target }	
					liege = { NOT = { character = ROOT } }
				}
				liege = { add_trait = treasure_horn character_event = { id = ancrel.1274 } }
				add_trait = dead_target
			}
			if = {
				limit = { 
					NOT = { trait = dead_target }	
				}
				random_vassal = { add_trait = treasure_horn character_event = { id = ancrel.1274 } }
			}
			remove_trait = dead_target
		}
		if = {
			limit = { trait = treasure_knife }
			if = { 
				limit = { 
					is_ruler = yes
					current_heir = { dynasty = ROOT is_alive = yes  }
				}
				current_heir = { add_trait = treasure_knife }
				add_trait = dead_target
			}
			if = { 
				limit = { NOT = { trait = dead_target } is_patrician = yes }
				family_palace = {
					current_heir = { add_trait = treasure_knife }
				}	
				add_trait = dead_target	
			}
			if = { 
				limit = { NOT = { trait = dead_target } }
				random_child = {
					limit = { dynasty = ROOT is_alive = yes }
					add_trait = treasure_knife
					character_event = { id = ancrel.1274 }
					ROOT = { add_trait = dead_target }
				}	
			}	
			if = {
				limit = { NOT = { trait = dead_target } }
				random_sibling = {
					limit = { dynasty = ROOT is_alive = yes }
					add_trait = treasure_knife
					character_event = { id = ancrel.1274 }
					ROOT = { add_trait = dead_target }
				}	
			}	
			if = {
				limit = { NOT = { trait = dead_target } }
				random_dynasty_member = {
					limit = { is_alive = yes }
					add_trait = treasure_knife
					character_event = { id = ancrel.1274 }
					ROOT = { add_trait = dead_target }
				}
			}
			if = {
				limit = { NOT = { trait = dead_target } }
				random_child = {
					limit = { is_primary_heir = yes is_alive = yes }
					add_trait = treasure_knife
					character_event = { id = ancrel.1274 }
					ROOT = { add_trait = dead_target }
				}
			}
			if = {
				limit = { NOT = { trait = dead_target } }
				random_child = {
					limit = { is_alive = yes }
					add_trait = treasure_knife
					character_event = { id = ancrel.1274 }
					ROOT = { add_trait = dead_target }
				}
			}
			if = {
				limit = { 
					NOT = { trait = dead_target }
					spouse = { is_alive = yes }		
				}
				spouse = { add_trait = treasure_knife character_event = { id = ancrel.1274 } }
				add_trait = dead_target
			}
			if = {
				limit = { 
					NOT = { trait = dead_target }	
					liege = { NOT = { character = ROOT } }
				}
				liege = { add_trait = treasure_knife character_event = { id = ancrel.1274 } }
				add_trait = dead_target
			}
			if = {
				limit = { 
					NOT = { trait = dead_target }	
				}
				random_vassal = { add_trait = treasure_knife character_event = { id = ancrel.1274 } }
			}
			remove_trait = dead_target
		}
		if = {
			limit = { trait = treasure_mantle_arthur }
			if = { 
				limit = { 
					is_ruler = yes
					current_heir = { dynasty = ROOT is_alive = yes  }
				}
				current_heir = { add_trait = treasure_mantle_arthur }
				add_trait = dead_target
			}
			if = { 
				limit = { NOT = { trait = dead_target } is_patrician = yes }
				family_palace = {
					current_heir = { add_trait = treasure_mantle_arthur }
				}	
				add_trait = dead_target	
			}
			if = { 
				limit = { NOT = { trait = dead_target } }
				random_child = {
					limit = { dynasty = ROOT is_alive = yes }
					add_trait = treasure_mantle_arthur
					character_event = { id = ancrel.1274 }
					ROOT = { add_trait = dead_target }
				}	
			}	
			if = {
				limit = { NOT = { trait = dead_target } }
				random_sibling = {
					limit = { dynasty = ROOT is_alive = yes }
					add_trait = treasure_mantle_arthur
					character_event = { id = ancrel.1274 }
					ROOT = { add_trait = dead_target }
				}	
			}	
			if = {
				limit = { NOT = { trait = dead_target } }
				random_dynasty_member = {
					limit = { is_alive = yes }
					add_trait = treasure_mantle_arthur
					character_event = { id = ancrel.1274 }
					ROOT = { add_trait = dead_target }
				}
			}
			if = {
				limit = { NOT = { trait = dead_target } }
				random_child = {
					limit = { is_primary_heir = yes is_alive = yes }
					add_trait = treasure_mantle_arthur
					character_event = { id = ancrel.1274 }
					ROOT = { add_trait = dead_target }
				}
			}
			if = {
				limit = { NOT = { trait = dead_target } }
				random_child = {
					limit = { is_alive = yes }
					add_trait = treasure_mantle_arthur
					character_event = { id = ancrel.1274 }
					ROOT = { add_trait = dead_target }
				}
			}
			if = {
				limit = { 
					NOT = { trait = dead_target }
					spouse = { is_alive = yes }		
				}
				spouse = { add_trait = treasure_mantle_arthur character_event = { id = ancrel.1274 } }
				add_trait = dead_target
			}
			if = {
				limit = { 
					NOT = { trait = dead_target }	
					liege = { NOT = { character = ROOT } }
				}
				liege = { add_trait = treasure_mantle_arthur character_event = { id = ancrel.1274 } }
				add_trait = dead_target
			}
			if = {
				limit = { 
					NOT = { trait = dead_target }	
				}
				random_vassal = { add_trait = treasure_mantle_arthur character_event = { id = ancrel.1274 } }
			}
			remove_trait = dead_target
		}
		if = {
			limit = { trait = treasure_mantle_tegau }
			if = { 
				limit = { 
					is_ruler = yes
					current_heir = { dynasty = ROOT is_alive = yes  }
				}
				current_heir = { add_trait = treasure_mantle_tegau }
				add_trait = dead_target
			}
			if = { 
				limit = { NOT = { trait = dead_target } is_patrician = yes }
				family_palace = {
					current_heir = { add_trait = treasure_mantle_tegau }
				}	
				add_trait = dead_target	
			}
			if = { 
				limit = { NOT = { trait = dead_target } }
				random_child = {
					limit = { dynasty = ROOT is_alive = yes }
					add_trait = treasure_mantle_tegau
					character_event = { id = ancrel.1274 }
					ROOT = { add_trait = dead_target }
				}	
			}	
			if = {
				limit = { NOT = { trait = dead_target } }
				random_sibling = {
					limit = { dynasty = ROOT is_alive = yes }
					add_trait = treasure_mantle_tegau
					character_event = { id = ancrel.1274 }
					ROOT = { add_trait = dead_target }
				}	
			}	
			if = {
				limit = { NOT = { trait = dead_target } }
				random_dynasty_member = {
					limit = { is_alive = yes }
					add_trait = treasure_mantle_tegau
					character_event = { id = ancrel.1274 }
					ROOT = { add_trait = dead_target }
				}
			}
			if = {
				limit = { NOT = { trait = dead_target } }
				random_child = {
					limit = { is_primary_heir = yes is_alive = yes }
					add_trait = treasure_mantle_tegau
					character_event = { id = ancrel.1274 }
					ROOT = { add_trait = dead_target }
				}
			}
			if = {
				limit = { NOT = { trait = dead_target } }
				random_child = {
					limit = { is_alive = yes }
					add_trait = treasure_mantle_tegau
					character_event = { id = ancrel.1274 }
					ROOT = { add_trait = dead_target }
				}
			}
			if = {
				limit = { 
					NOT = { trait = dead_target }
					spouse = { is_alive = yes }		
				}
				spouse = { add_trait = treasure_mantle_tegau character_event = { id = ancrel.1274 } }
				add_trait = dead_target
			}
			if = {
				limit = { 
					NOT = { trait = dead_target }	
					liege = { NOT = { character = ROOT } }
				}
				liege = { add_trait = treasure_mantle_tegau character_event = { id = ancrel.1274 } }
				add_trait = dead_target
			}
			if = {
				limit = { 
					NOT = { trait = dead_target }	
				}
				random_vassal = { add_trait = treasure_mantle_tegau character_event = { id = ancrel.1274 } }
			}
			remove_trait = dead_target
		}
		if = {
			limit = { trait = treasure_stone_and_ring }
			if = { 
				limit = { 
					is_ruler = yes
					current_heir = { dynasty = ROOT is_alive = yes  }
				}
				current_heir = { add_trait = treasure_stone_and_ring }
				add_trait = dead_target
			}
			if = { 
				limit = { NOT = { trait = dead_target } is_patrician = yes }
				family_palace = {
					current_heir = { add_trait = treasure_stone_and_ring }
				}	
				add_trait = dead_target	
			}
			if = { 
				limit = { NOT = { trait = dead_target } }
				random_child = {
					limit = { dynasty = ROOT is_alive = yes }
					add_trait = treasure_stone_and_ring
					character_event = { id = ancrel.1274 }
					ROOT = { add_trait = dead_target }
				}	
			}	
			if = {
				limit = { NOT = { trait = dead_target } }
				random_sibling = {
					limit = { dynasty = ROOT is_alive = yes }
					add_trait = treasure_stone_and_ring
					character_event = { id = ancrel.1274 }
					ROOT = { add_trait = dead_target }
				}	
			}	
			if = {
				limit = { NOT = { trait = dead_target } }
				random_dynasty_member = {
					limit = { is_alive = yes }
					add_trait = treasure_stone_and_ring
					character_event = { id = ancrel.1274 }
					ROOT = { add_trait = dead_target }
				}
			}
			if = {
				limit = { NOT = { trait = dead_target } }
				random_child = {
					limit = { is_primary_heir = yes is_alive = yes }
					add_trait = treasure_stone_and_ring
					character_event = { id = ancrel.1274 }
					ROOT = { add_trait = dead_target }
				}
			}
			if = {
				limit = { NOT = { trait = dead_target } }
				random_child = {
					limit = { is_alive = yes }
					add_trait = treasure_stone_and_ring
					character_event = { id = ancrel.1274 }
					ROOT = { add_trait = dead_target }
				}
			}
			if = {
				limit = { 
					NOT = { trait = dead_target }
					spouse = { is_alive = yes }		
				}
				spouse = { add_trait = treasure_stone_and_ring character_event = { id = ancrel.1274 } }
				add_trait = dead_target
			}
			if = {
				limit = { 
					NOT = { trait = dead_target }	
					liege = { NOT = { character = ROOT } }
				}
				liege = { add_trait = treasure_stone_and_ring character_event = { id = ancrel.1274 } }
				add_trait = dead_target
			}
			if = {
				limit = { 
					NOT = { trait = dead_target }	
				}
				random_vassal = { add_trait = treasure_stone_and_ring character_event = { id = ancrel.1274 } }
			}
			remove_trait = dead_target
		}
		if = {
			limit = { trait = treasure_whetstone }
			if = { 
				limit = { 
					is_ruler = yes
					current_heir = { dynasty = ROOT is_alive = yes  }
				}
				current_heir = { add_trait = treasure_whetstone }
				add_trait = dead_target
			}
			if = { 
				limit = { NOT = { trait = dead_target } is_patrician = yes }
				family_palace = {
					current_heir = { add_trait = treasure_whetstone }
				}	
				add_trait = dead_target	
			}
			if = { 
				limit = { NOT = { trait = dead_target } }
				random_child = {
					limit = { dynasty = ROOT is_alive = yes }
					add_trait = treasure_whetstone
					character_event = { id = ancrel.1274 }
					ROOT = { add_trait = dead_target }
				}	
			}	
			if = {
				limit = { NOT = { trait = dead_target } }
				random_sibling = {
					limit = { dynasty = ROOT is_alive = yes }
					add_trait = treasure_whetstone
					character_event = { id = ancrel.1274 }
					ROOT = { add_trait = dead_target }
				}	
			}	
			if = {
				limit = { NOT = { trait = dead_target } }
				random_dynasty_member = {
					limit = { is_alive = yes }
					add_trait = treasure_whetstone
					character_event = { id = ancrel.1274 }
					ROOT = { add_trait = dead_target }
				}
			}
			if = {
				limit = { NOT = { trait = dead_target } }
				random_child = {
					limit = { is_primary_heir = yes is_alive = yes }
					add_trait = treasure_whetstone
					character_event = { id = ancrel.1274 }
					ROOT = { add_trait = dead_target }
				}
			}
			if = {
				limit = { NOT = { trait = dead_target } }
				random_child = {
					limit = { is_alive = yes }
					add_trait = treasure_whetstone
					character_event = { id = ancrel.1274 }
					ROOT = { add_trait = dead_target }
				}
			}
			if = {
				limit = { 
					NOT = { trait = dead_target }
					spouse = { is_alive = yes }		
				}
				spouse = { add_trait = treasure_whetstone character_event = { id = ancrel.1274 } }
				add_trait = dead_target
			}
			if = {
				limit = { 
					NOT = { trait = dead_target }	
					liege = { NOT = { character = ROOT } }
				}
				liege = { add_trait = treasure_whetstone character_event = { id = ancrel.1274 } }
				add_trait = dead_target
			}
			if = {
				limit = { 
					NOT = { trait = dead_target }	
				}
				random_vassal = { add_trait = treasure_whetstone character_event = { id = ancrel.1274 } }
			}
			remove_trait = dead_target
		}
	}
}